{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./source/js/Bar-item.js","webpack:///./source/js/context-menu-template.js","webpack:///./source/js/main.js","webpack:///./source/js/utils.js"],"names":["BarItem","i","_id","_element","newElement","document","createElement","innerHTML","template","firstChild","COUNT_SIDEBAR_ITEMS","getRandomInteger","getSideBarItems","count","fragment","createDocumentFragment","element","renderedElement","render","appendChild","getSideBarList","list","classList","add","sideBar","querySelector","insertAdjacentElement","mainContent","mainContentTemplate","content","listElement","cloneNode","onContentItem","evt","target","preventDefault","tagName","setColor","parentNode","setContentListListener","addEventListener","node","color","getrandomColor","style","backgroundColor","background","text","renderMainContentList","getSearchForm","searchBar","renderSearchForm","insertAdjacentHTML","submitButton","renderNewItem","li","onSubmit","input","value","setSubmitListener","mainPage","contextMenuTemplate","contextMenu","onListItem","setCloseContextMenu","positionContextMenu","onDocument","srcElement","contains","remove","removeCloseContestMenuListener","onEscapePress","keyCode","removeEventListener","setContextMenu","menuPosition","menuPositionX","menuPositionY","getPosition","x","y","left","top","_getDifferenceColor","h","s","l","min","max","Math","floor","random","hsl","colorBackground","toString","colorText","e","posx","posy","window","event","pageX","pageY","clientX","clientY","body","scrollLeft","documentElement","scrollTop"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;ICjFqBA,O;;;AACnB,mBAAYC,CAAZ,EAAe;AAAA;;AACb,SAAKC,GAAL,GAAWD,CAAX;AAEA,SAAKE,QAAL,GAAgB,IAAhB;AACD;;;;+BAEU;AACT,8DAA8C,KAAKD,GAAnD,kGAA4E,KAAKA,GAAjF;AACD;;;6BAEQ;AACP,UAAME,UAAU,GAAGC,QAAQ,CAACC,aAAT,OAAnB;AACAF,gBAAU,CAACG,SAAX,GAAuB,KAAKC,QAAL,EAAvB;AACA,WAAKL,QAAL,GAAgBC,UAAU,CAACK,UAA3B;AACA,aAAO,KAAKN,QAAZ;AACD;;;;;;;;;;;;;;;;;;ACjBH;AAAe,2EAAM;AACnB;AAiBD,CAlBD,E;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA,IAAMO,mBAAmB,GAAGC,+DAAgB,CAAC,CAAD,EAAI,EAAJ,CAA5C,C,CAAqD;AAErD;;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,MAAMC,QAAQ,GAAGT,QAAQ,CAACU,sBAAT,EAAjB;;AACA,OAAK,IAAId,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,KAAK,GAAG,CAA5B,EAA+BZ,CAAC,EAAhC,EAAoC;AAClC,QAAMe,OAAO,GAAG,IAAIhB,iDAAJ,CAAYC,CAAZ,CAAhB;AACA,QAAMgB,eAAe,GAAGD,OAAO,CAACE,MAAR,EAAxB;AACAJ,YAAQ,CAACK,WAAT,CAAqBF,eAArB;AACD;;AACD,SAAOH,QAAP;AACD,CARD;;AAUA,IAAMM,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,MAAMC,IAAI,GAAGhB,QAAQ,CAACC,aAAT,MAAb;AACAe,MAAI,CAACC,SAAL,CAAeC,GAAf;AACAF,MAAI,CAACF,WAAL,CAAiBP,eAAe,CAACF,mBAAD,CAAhC;AACA,SAAOW,IAAP;AACD,CALD;;AAMA,IAAMG,OAAO,GAAGnB,QAAQ,CAACoB,aAAT,aAAhB;AACAD,OAAO,CAACE,qBAAR,cAA2CN,cAAc,EAAzD,E,CAGA;;AACA,IAAMO,WAAW,GAAGtB,QAAQ,CAACoB,aAAT,iBAApB;AACA,IAAMG,mBAAmB,GAAGvB,QAAQ,CAACoB,aAAT,kBAAwCI,OAApE;AACA,IAAMC,WAAW,GAAGF,mBAAmB,CAACG,SAApB,CAA8B,IAA9B,CAApB;AACA,IAAMV,IAAI,GAAGS,WAAW,CAACL,aAAZ,uBAAb;;AAEA,IAAMO,aAAa,GAAG,SAAhBA,aAAgB,CAACC,GAAD,EAAS;AAC7B,MAAIC,MAAM,GAAGD,GAAG,CAACC,MAAjB;;AACA,MAAIA,MAAM,KAAK,IAAf,EAAqB;AACnBD,OAAG,CAACE,cAAJ;;AACA,WAAOD,MAAM,CAACE,OAAP,SAAP,EAAgC;AAC9B,UAAIF,MAAM,CAACE,OAAP,SAAJ,EAA6B;AAC3BC,gBAAQ,CAACH,MAAD,CAAR;AACA;AACD;;AACDA,YAAM,GAAGA,MAAM,CAACI,UAAhB;AACD;AACF;AACF,CAZD;;AAcA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnClB,MAAI,CAACmB,gBAAL,UAA+BR,aAA/B;AACD,CAFD,C,CAIA;;;AACA,IAAMK,QAAQ,GAAG,SAAXA,QAAW,CAACI,IAAD,EAAU;AACzB,MAAMC,KAAK,GAAGC,6DAAc,EAA5B;AACAF,MAAI,CAACG,KAAL,CAAWC,eAAX,gBAAmCH,KAAK,CAACI,UAAzC;AACAL,MAAI,CAACG,KAAL,CAAWF,KAAX,gBAAyBA,KAAK,CAACK,IAA/B;AACD,CAJD;;AAMA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClCrB,aAAW,CAACR,WAAZ,CAAwBE,IAAxB;AACAkB,wBAAsB;AACvB,CAHD;;AAIAS,qBAAqB,G,CAGrB;;AACA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAC1B;AAKD,CAND;;AAQA,IAAMC,SAAS,GAAG7C,QAAQ,CAACoB,aAAT,eAAlB;;AACA,IAAM0B,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7BD,WAAS,CAACE,kBAAV,cAA0CH,aAAa,EAAvD;AACD,CAFD;;AAGAE,gBAAgB,G,CAEhB;;AACA,IAAME,YAAY,GAAGH,SAAS,CAACzB,aAAV,oBAArB;;AACA,IAAM6B,aAAa,GAAG,SAAhBA,aAAgB,CAACP,IAAD,EAAU;AAC9B,MAAMQ,EAAE,GAAGlD,QAAQ,CAACC,aAAT,MAAX;AACAiD,IAAE,CAACjC,SAAH,CAAaC,GAAb;AACAgC,IAAE,CAAChD,SAAH,GAAewC,IAAf;AACA1B,MAAI,CAACF,WAAL,CAAiBoC,EAAjB;AACD,CALD;;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACvB,GAAD,EAAS;AACxBA,KAAG,CAACE,cAAJ;AACA,MAAMsB,KAAK,GAAGP,SAAS,CAACzB,aAAV,sBAAd;;AACA,MAAIgC,KAAK,CAACC,KAAV,EAAiB;AACfJ,iBAAa,CAACG,KAAK,CAACC,KAAP,CAAb;AACAD,SAAK,CAACC,KAAN;AACD;AACF,CAPD;;AASA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC9BN,cAAY,CAACb,gBAAb,UAAuCgB,QAAvC;AACD,CAFD;;AAGAG,iBAAiB,G,CAGjB;;AACA,IAAMC,QAAQ,GAAGvD,QAAQ,CAACoB,aAAT,cAAjB;AACAmC,QAAQ,CAACR,kBAAT,cAAyCS,sEAAmB,EAA5D;AACA,IAAMC,WAAW,GAAGF,QAAQ,CAACnC,aAAT,iBAApB;;AAEA,IAAMsC,UAAU,GAAG,SAAbA,UAAa,CAAC9B,GAAD,EAAS;AAC1B,MAAIC,MAAM,GAAGD,GAAG,CAACC,MAAjB;;AACA,SAAOA,MAAM,CAACE,OAAP,WAAP,EAAkC;AAChC,QAAIF,MAAM,CAACE,OAAP,SAAJ,EAA6B;AAC3BH,SAAG,CAACE,cAAJ;AACA2B,iBAAW,CAACxC,SAAZ,CAAsBC,GAAtB;AACAyC,yBAAmB;AACnBC,yBAAmB,CAAChC,GAAD,CAAnB;AACA;AACD,KAND,MAMO,IAAIC,MAAM,CAACE,OAAP,WAAJ,EAA+B;AACpC;AACD;;AACDF,UAAM,GAAGA,MAAM,CAACI,UAAhB;AACD;AACF,CAdD;;AAgBA,IAAM4B,UAAU,GAAG,SAAbA,UAAa,CAACjC,GAAD,EAAS;AAC1B,MAAMjB,OAAO,GAAGiB,GAAG,CAACkC,UAAJ,IAAkBlC,GAAG,CAACC,MAAtC;;AACA,MAAI,CAAClB,OAAO,CAACM,SAAR,CAAkB8C,QAAlB,CAA2B,wBAAwB,KAAnD,CAAL,EAA4G;AAC1GN,eAAW,CAACxC,SAAZ,CAAsB+C,MAAtB;AACAC,kCAA8B;AAC/B;AACF,CAND;;AAQA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACtC,GAAD,EAAS;AAC7B,MAAIA,GAAG,CAACuC,OAAJ,KAAgB,EAApB,EAAwB;AACtBV,eAAW,CAACxC,SAAZ,CAAsB+C,MAAtB;AACAC,kCAA8B;AAC/B;AACF,CALD;;AAOA,IAAMN,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC3D,UAAQ,CAACmC,gBAAT,UAAmC0B,UAAnC;AACA7D,UAAQ,CAACmC,gBAAT,YAAqC+B,aAArC;AACD,CAHD;;AAKA,IAAMD,8BAA8B,GAAG,SAAjCA,8BAAiC,GAAM;AAC3CjE,UAAQ,CAACoE,mBAAT,YAAwCF,aAAxC;AACAlE,UAAQ,CAACoE,mBAAT,UAAsCP,UAAtC;AACD,CAHD;;AAMA,IAAMQ,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3BrE,UAAQ,CAACmC,gBAAT,gBAAyCuB,UAAzC;AACD,CAFD;;AAGAW,cAAc;AAEd,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,aAAa,GAAG,CAApB;AACA,IAAIC,aAAa,GAAG,CAApB;;AAEA,IAAMZ,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAChC,GAAD,EAAS;AACnC0C,cAAY,GAAGG,0DAAW,CAAC7C,GAAD,CAA1B;AACA2C,eAAa,GAAGD,YAAY,CAACI,CAAb,OAAhB;AACAF,eAAa,GAAGF,YAAY,CAACK,CAAb,OAAhB;AACAlB,aAAW,CAAClB,KAAZ,CAAkBqC,IAAlB,GAAyBL,aAAzB;AACAd,aAAW,CAAClB,KAAZ,CAAkBsC,GAAlB,GAAwBL,aAAxB;AACD,CAND,C;;;;;;;;;;;;ACjKA;AAAA;AAAA;AAAA;AAAA,IAAMM,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC,MAAIzC,KAAK,GAAG;AACVI,cAAU,EAAE;AACVsC,OAAC,EAAEzE,gBAAgB,CAAC,CAAD,EAAI,GAAJ,CADT;AAEV0E,OAAC,EAAE1E,gBAAgB,CAAC,CAAD,EAAI,EAAJ,CAFT;AAGV2E,OAAC,EAAE3E,gBAAgB,CAAC,EAAD,EAAK,EAAL;AAHT,KADF;AAMVoC,QAAI,EAAE;AACJqC,OAAC,EAAEzE,gBAAgB,CAAC,GAAD,EAAM,GAAN,CADf;AAEJ0E,OAAC,EAAE1E,gBAAgB,CAAC,EAAD,EAAK,GAAL,CAFf;AAGJ2E,OAAC,EAAE3E,gBAAgB,CAAC,EAAD,EAAK,EAAL;AAHf;AANI,GAAZ;AAYA,SAAO+B,KAAP;AACD,CAdD;;AAgBO,IAAM/B,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC4E,GAAD,EAAMC,GAAN;AAAA,SAAcC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,GAAG,GAAGD,GAAN,GAAY,CAA7B,IAAkCA,GAA7C,CAAd;AAAA,CAAzB;AAEA,IAAM5C,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,MAAID,KAAK,GAAG,EAAZ;;AACA,MAAMkD,GAAG,GAAGT,mBAAmB,EAA/B;;AACA,MAAMU,eAAe,cAAOD,GAAG,CAAC9C,UAAJ,CAAesC,CAAf,CAAiBU,QAAjB,EAAP,eAAuCF,GAAG,CAAC9C,UAAJ,CAAeuC,CAAf,CAAiBS,QAAjB,EAAvC,gBAAwEF,GAAG,CAAC9C,UAAJ,CAAewC,CAAf,CAAiBQ,QAAjB,EAAxE,OAArB;AACA,MAAMC,SAAS,cAAOH,GAAG,CAAC7C,IAAJ,CAASqC,CAAT,CAAWU,QAAX,EAAP,eAAiCF,GAAG,CAAC7C,IAAJ,CAASsC,CAAT,CAAWS,QAAX,EAAjC,gBAA4DF,GAAG,CAAC7C,IAAJ,CAASuC,CAAT,CAAWQ,QAAX,EAA5D,OAAf;AACApD,OAAK,CAACI,UAAN,GAAmB+C,eAAnB;AACAnD,OAAK,CAACK,IAAN,GAAagD,SAAb;AACA,SAAOrD,KAAP;AACD,CARM;AAUA,IAAMoC,WAAW,GAAG,SAAdA,WAAc,CAACkB,CAAD,EAAO;AAChC,MAAIC,IAAI,GAAG,CAAX;AACA,MAAIC,IAAI,GAAG,CAAX;;AAEA,MAAI,CAACF,CAAL,EAAQ;AACNA,KAAC,GAAGG,MAAM,CAACC,KAAX;AACD;;AAED,MAAIJ,CAAC,CAACK,KAAF,IAAWL,CAAC,CAACM,KAAjB,EAAwB;AACtBL,QAAI,GAAGD,CAAC,CAACK,KAAT;AACAH,QAAI,GAAGF,CAAC,CAACM,KAAT;AACD,GAHD,MAGO,IAAIN,CAAC,CAACO,OAAF,IAAaP,CAAC,CAACQ,OAAnB,EAA4B;AACjCP,QAAI,GAAGD,CAAC,CAACO,OAAF,GAAYlG,QAAQ,CAACoG,IAAT,CAAcC,UAA1B,GAAuCrG,QAAQ,CAACsG,eAAT,CAAyBD,UAAvE;AACAR,QAAI,GAAGF,CAAC,CAACQ,OAAF,GAAYnG,QAAQ,CAACoG,IAAT,CAAcG,SAA1B,GAAsCvG,QAAQ,CAACsG,eAAT,CAAyBC,SAAtE;AACD;;AAED,SAAO;AACL7B,KAAC,EAAEkB,IADE;AAELjB,KAAC,EAAEkB;AAFE,GAAP;AAID,CApBM,C","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\nexport default class BarItem {\n  constructor(i) {\n    this._id = i;\n\n    this._element = null;\n  }\n\n  template() {\n    return `<li class=\"side-bar__item\" data-id=\"${this._id}\">Элемент списка - ${this._id}</li>`;\n  }\n\n  render() {\n    const newElement = document.createElement(`div`);\n    newElement.innerHTML = this.template();\n    this._element = newElement.firstChild;\n    return this._element;\n  }\n}\n","export default () => {\n  return `<ul class=\"context-menu\">\n  <li class=\"context-menu__item\">\n  <a href=\"#\" class=\"context-menu__link\">\n      View Task\n    </a>\n  </li>\n  <li class=\"context-menu__item\">\n    <a href=\"#\" class=\"context-menu__link\">\n      Edit Task\n    </a>\n  </li>\n  <li class=\"context-menu__item\">\n    <a href=\"#\" class=\"context-menu__link\">\n      Delete Task\n    </a>\n  </li>\n</ul>`;\n};\n","import BarItem from './Bar-item';\nimport {getrandomColor, getPosition, getRandomInteger} from './utils';\nimport contextMenuTemplate from './context-menu-template';\n\n\nconst COUNT_SIDEBAR_ITEMS = getRandomInteger(3, 11); // Количество пунктов sidebar (min / max)\n\n// отрисовка боковой панели:\nconst getSideBarItems = (count) => {\n  const fragment = document.createDocumentFragment();\n  for (let i = 1; i < count + 1; i++) {\n    const element = new BarItem(i);\n    const renderedElement = element.render();\n    fragment.appendChild(renderedElement);\n  }\n  return fragment;\n};\n\nconst getSideBarList = () => {\n  const list = document.createElement(`ul`);\n  list.classList.add(`side-bar__list`);\n  list.appendChild(getSideBarItems(COUNT_SIDEBAR_ITEMS));\n  return list;\n};\nconst sideBar = document.querySelector(`.side-bar`);\nsideBar.insertAdjacentElement(`beforeend`, getSideBarList());\n\n\n// отрисовывает основной список, с реализацией рандомного цвета по нажатию на пункт списка:\nconst mainContent = document.querySelector(`.main-content`);\nconst mainContentTemplate = document.querySelector(`#content-list`).content;\nconst listElement = mainContentTemplate.cloneNode(true);\nconst list = listElement.querySelector(`.main-content__list`);\n\nconst onContentItem = (evt) => {\n  let target = evt.target;\n  if (target !== null) {\n    evt.preventDefault();\n    while (target.tagName !== `UL`) {\n      if (target.tagName === `LI`) {\n        setColor(target);\n        return;\n      }\n      target = target.parentNode;\n    }\n  }\n};\n\nconst setContentListListener = () => {\n  list.addEventListener(`click`, onContentItem);\n};\n\n// устанавливает цвет для пункта списка\nconst setColor = (node) => {\n  const color = getrandomColor();\n  node.style.backgroundColor = `hsl${color.background}`;\n  node.style.color = `hsl${color.text}`;\n};\n\nconst renderMainContentList = () => {\n  mainContent.appendChild(list);\n  setContentListListener();\n};\nrenderMainContentList();\n\n\n// отрисовывает панель - добавления нового текста:\nconst getSearchForm = () => {\n  return `\n  <form class=\"search-bar__form\" action=\"\" method=\"GET\">\n    <input class=\"search-bar__input\" type=\"search\" placeholder=\"Enter your text\">\n    <button class=\"search-bar__btn\">Send</button>\n  </form>`;\n};\n\nconst searchBar = document.querySelector(`.search-bar`);\nconst renderSearchForm = () => {\n  searchBar.insertAdjacentHTML(`beforeend`, getSearchForm());\n};\nrenderSearchForm();\n\n// реализация добавления новых пунктов списка:\nconst submitButton = searchBar.querySelector(`.search-bar__btn`);\nconst renderNewItem = (text) => {\n  const li = document.createElement(`li`);\n  li.classList.add(`main-content__item`);\n  li.innerHTML = text;\n  list.appendChild(li);\n};\n\nconst onSubmit = (evt) => {\n  evt.preventDefault();\n  const input = searchBar.querySelector(`.search-bar__input`);\n  if (input.value) {\n    renderNewItem(input.value);\n    input.value = ``;\n  }\n};\n\nconst setSubmitListener = () => {\n  submitButton.addEventListener(`click`, onSubmit);\n};\nsetSubmitListener();\n\n\n// работа с контекстным меню:\nconst mainPage = document.querySelector(`.page-main`);\nmainPage.insertAdjacentHTML(`beforeend`, contextMenuTemplate());\nconst contextMenu = mainPage.querySelector(`.context-menu`);\n\nconst onListItem = (evt) => {\n  let target = evt.target;\n  while (target.tagName !== `BODY`) {\n    if (target.tagName === `LI`) {\n      evt.preventDefault();\n      contextMenu.classList.add(`context-menu--show`);\n      setCloseContextMenu();\n      positionContextMenu(evt);\n      return;\n    } else if (target.tagName === `BODY`) {\n      return;\n    }\n    target = target.parentNode;\n  }\n};\n\nconst onDocument = (evt) => {\n  const element = evt.srcElement || evt.target;\n  if (!element.classList.contains(`context-menu__item` || !element.classList.contains(`context-menu__link`))) {\n    contextMenu.classList.remove(`context-menu--show`);\n    removeCloseContestMenuListener();\n  }\n};\n\nconst onEscapePress = (evt) => {\n  if (evt.keyCode === 27) {\n    contextMenu.classList.remove(`context-menu--show`);\n    removeCloseContestMenuListener();\n  }\n};\n\nconst setCloseContextMenu = () => {\n  document.addEventListener(`click`, onDocument);\n  document.addEventListener(`keydown`, onEscapePress);\n};\n\nconst removeCloseContestMenuListener = () => {\n  document.removeEventListener(`keydown`, onEscapePress);\n  document.removeEventListener(`click`, onDocument);\n};\n\n\nconst setContextMenu = () => {\n  document.addEventListener(`contextmenu`, onListItem);\n};\nsetContextMenu();\n\nlet menuPosition = 0;\nlet menuPositionX = 0;\nlet menuPositionY = 0;\n\nconst positionContextMenu = (evt) => {\n  menuPosition = getPosition(evt);\n  menuPositionX = menuPosition.x + `px`;\n  menuPositionY = menuPosition.y + `px`;\n  contextMenu.style.left = menuPositionX;\n  contextMenu.style.top = menuPositionY;\n};\n","const _getDifferenceColor = () => {\n  let color = {\n    background: {\n      h: getRandomInteger(0, 103),\n      s: getRandomInteger(0, 40),\n      l: getRandomInteger(40, 60)\n    },\n    text: {\n      h: getRandomInteger(153, 256),\n      s: getRandomInteger(60, 100),\n      l: getRandomInteger(40, 60)\n    },\n  };\n  return color;\n};\n\nexport const getRandomInteger = (min, max) => Math.floor(Math.random() * (max - min + 1) + min);\n\nexport const getrandomColor = () => {\n  let color = {};\n  const hsl = _getDifferenceColor();\n  const colorBackground = `(${hsl.background.h.toString()}, ${hsl.background.s.toString()}%, ${hsl.background.l.toString()}%)`;\n  const colorText = `(${hsl.text.h.toString()}, ${hsl.text.s.toString()}%, ${hsl.text.l.toString()}%)`;\n  color.background = colorBackground;\n  color.text = colorText;\n  return color;\n};\n\nexport const getPosition = (e) => {\n  let posx = 0;\n  let posy = 0;\n\n  if (!e) {\n    e = window.event;\n  }\n\n  if (e.pageX || e.pageY) {\n    posx = e.pageX;\n    posy = e.pageY;\n  } else if (e.clientX || e.clientY) {\n    posx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n    posy = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n  }\n\n  return {\n    x: posx,\n    y: posy\n  };\n};\n"],"sourceRoot":""}